<?xml version="1.0" encoding="utf-8"?><!DOCTYPE nta PUBLIC '-//Uppaal Team//DTD Flat System 1.1//EN' 'http://www.it.uu.se/research/group/darts/uppaal/flat-1_1.dtd'><nta><declaration>// Place global declarations here.
typedef int[1,2] myID;

int count = 0;
int prevID = 1;
int has_cs=0;
const int c =4; 
const int CS =30;
const int delay = 5;
const int delayControl = 4*c;
</declaration><template><name x="5" y="5">GProcess</name><parameter>const myID ID</parameter><declaration>// Place local declarations here.
clock sleeptime;// to model the sleep time
clock exec;// to model constraints on execution times

</declaration><location id="id0" x="-976" y="80"><name x="-992" y="32">Control</name><label kind="invariant" x="-992" y="48">exec &lt;= c</label></location><location id="id1" x="-248" y="-184"><name x="-232" y="-176">waiting</name><label kind="invariant" x="-232" y="-160">sleeptime&lt;=delay</label></location><location id="id2" x="-896" y="-264"><name x="-960" y="-264">L3goto</name><label kind="invariant" x="-976" y="-248">exec &lt;= c</label></location><location id="id3" x="-568" y="80"><name x="-552" y="80">Lk_next</name><label kind="invariant" x="-552" y="96">exec &lt;= c</label></location><location id="id4" x="-568" y="-48"><name x="-632" y="-56">L4toLk</name><label kind="invariant" x="-656" y="-40">exec &lt;= CS</label></location><location id="id5" x="-568" y="-184"><name x="-560" y="-176">L3</name><label kind="invariant" x="-560" y="-160">exec &lt;= c</label></location><location id="id6" x="-248" y="-264"><name x="-240" y="-304">L2</name><label kind="invariant" x="-240" y="-288">exec &lt;= c</label></location><location id="id7" x="-560" y="-264"><name x="-592" y="-264">L1</name><label kind="invariant" x="-592" y="-248">exec &lt;= c</label></location><location id="id8" x="-424" y="-376"><name x="-400" y="-400">L0goto</name><label kind="invariant" x="-400" y="-384">exec &lt;= c</label></location><location id="id9" x="-560" y="-376"><name x="-640" y="-432">L0</name><label kind="invariant" x="-640" y="-416">exec &lt;= c</label></location><init ref="id9"/><transition><source ref="id0"/><target ref="id9"/><label kind="assignment" x="-1112" y="-480">exec = 0,
has_cs = 0</label><nail x="-1120" y="80"/><nail x="-1120" y="-480"/><nail x="-560" y="-480"/></transition><transition><source ref="id3"/><target ref="id0"/><label kind="guard" x="-840" y="152">prevID != ID || count &gt;= 5</label><label kind="assignment" x="-840" y="168">prevID = ID,
count = 1,
exec = 0</label><nail x="-624" y="152"/><nail x="-928" y="152"/></transition><transition><source ref="id3"/><target ref="id0"/><label kind="guard" x="-840" y="32">prevID == ID &amp;&amp; count &lt; 5</label><label kind="assignment" x="-840" y="48">exec = 0,
count++</label></transition><transition><source ref="id4"/><target ref="id3"/><label kind="guard" x="-560" y="-8">exec &gt;= CS</label><label kind="assignment" x="-560" y="8">exec = 0</label></transition><transition><source ref="id5"/><target ref="id4"/><label kind="guard" x="-560" y="-96">has_cs == ID</label><label kind="assignment" x="-560" y="-80">exec = 0</label></transition><transition><source ref="id5"/><target ref="id2"/><label kind="guard" x="-728" y="-184">has_cs != ID</label><label kind="assignment" x="-896" y="-168">exec = 0</label><nail x="-896" y="-184"/></transition><transition><source ref="id1"/><target ref="id5"/><label kind="guard" x="-480" y="-200">sleeptime == delay</label><label kind="assignment" x="-480" y="-184">exec = 0</label></transition><transition><source ref="id2"/><target ref="id9"/><label kind="assignment" x="-888" y="-376">exec = 0</label><nail x="-896" y="-376"/><nail x="-576" y="-376"/></transition><transition><source ref="id9"/><target ref="id7"/><label kind="guard" x="-856" y="-336">has_cs == 0 &amp; ( prevID != ID | count &lt; 5)</label><label kind="assignment" x="-632" y="-320">exec = 0</label></transition><transition><source ref="id7"/><target ref="id6"/><label kind="assignment" x="-472" y="-296">has_cs = ID,
exec = 0</label></transition><transition><source ref="id6"/><target ref="id1"/><label kind="assignment" x="-240" y="-240">sleeptime = 0</label><nail x="-248" y="-232"/></transition><transition><source ref="id9"/><target ref="id8"/><label kind="guard" x="-536" y="-360">has_cs != 0 &amp;&amp; exec &gt; 1</label><label kind="assignment" x="-536" y="-376">exec = 0</label></transition><transition><source ref="id8"/><target ref="id9"/><label kind="assignment" x="-520" y="-456">exec = 0</label><nail x="-496" y="-440"/></transition></template><system>// This command is special it instanciate any 
// possible instance of Process with distinct parameters.
// As myID is in {1,2} there will be two instances. 
system GProcess;</system></nta>